{"version":3,"file":"js/570.f15ae8b6.js","mappings":"gKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACJ,EAAIK,GAAG,GAAGL,EAAIK,GAAG,GAAGH,EAAG,OAAO,CAACI,MAAM,CAAC,OAAS,KAAK,CAACJ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOV,EAAIW,UAAUC,SAAUC,WAAW,uBAAuBP,MAAM,CAAC,KAAO,OAAO,YAAc,UAAUQ,SAAS,CAAC,MAASd,EAAIW,UAAUC,UAAWG,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAiBlB,EAAImB,KAAKnB,EAAIW,UAAW,WAAYK,EAAOC,OAAOP,MAAM,OAAOR,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOV,EAAIW,UAAUS,SAAUP,WAAW,uBAAuBP,MAAM,CAAC,KAAO,WAAW,YAAc,SAASQ,SAAS,CAAC,MAASd,EAAIW,UAAUS,UAAWL,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAiBlB,EAAImB,KAAKnB,EAAIW,UAAW,WAAYK,EAAOC,OAAOP,MAAM,OAAOR,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,QAAQ,CAACE,YAAY,eAAeE,MAAM,CAAC,KAAO,SAAS,MAAQ,MAAMS,GAAG,CAAC,MAAQf,EAAIqB,aAAanB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACJ,EAAIsB,GAAG,UAAUpB,EAAG,cAAc,CAACI,MAAM,CAAC,GAAK,CAAEiB,KAAM,sBAAuB,CAACvB,EAAIsB,GAAG,WAAW,KAAKtB,EAAIK,GAAG,GAAGL,EAAIK,GAAG,IAC7sC,EACImB,EAAkB,CAAC,WAAY,IAAIxB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACI,MAAM,CAAC,IAAMmB,EAAQ,KAA4B,IAAM,OACvK,EAAE,WAAY,IAAIzB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACF,EAAIsB,GAAG,eACjG,EAAE,WAAY,IAAItB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACA,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,SACnI,EAAE,WAAY,IAAIF,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACA,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,SACnI,G,QCNO,MAAMwB,UAA0BC,OAGvC,SAASC,EAAiBC,GACtB,OAAOC,mBAAmBC,KAAKF,GAAKG,QAAQ,QAAQ,CAACC,EAAGC,KACpD,IAAIC,EAAOD,EAAEE,WAAW,GAAGC,SAAS,IAAIC,cAIxC,OAHIH,EAAKI,OAAS,IACdJ,EAAO,IAAMA,GAEV,IAAMA,CAAI,IAEzB,CACA,SAASK,EAAgBX,GACrB,IAAIY,EAASZ,EAAIG,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KAClD,OAAQS,EAAOF,OAAS,GACpB,KAAK,EACD,MACJ,KAAK,EACDE,GAAU,KACV,MACJ,KAAK,EACDA,GAAU,IACV,MACJ,QACI,MAAM,IAAId,MAAM,8CAExB,IACI,OAAOC,EAAiBa,EAC5B,CACA,MAAOC,GACH,OAAOX,KAAKU,EAChB,CACJ,CACO,SAASE,EAAUC,EAAOC,GAC7B,GAAqB,kBAAVD,EACP,MAAM,IAAIlB,EAAkB,6CAEhCmB,IAAYA,EAAU,CAAC,GACvB,MAAMC,GAAyB,IAAnBD,EAAQE,OAAkB,EAAI,EACpCC,EAAOJ,EAAMK,MAAM,KAAKH,GAC9B,GAAoB,kBAATE,EACP,MAAM,IAAItB,EAAkB,0CAA0CoB,EAAM,KAEhF,IAAII,EACJ,IACIA,EAAUV,EAAgBQ,EAC9B,CACA,MAAOG,GACH,MAAM,IAAIzB,EAAkB,qDAAqDoB,EAAM,MAAMK,EAAEC,WACnG,CACA,IACI,OAAOC,KAAKC,MAAMJ,EACtB,CACA,MAAOC,GACH,MAAM,IAAIzB,EAAkB,mDAAmDoB,EAAM,MAAMK,EAAEC,WACjG,CACJ,CAtDA1B,EAAkB6B,UAAU/C,KAAO,oBCkDnC,OACAA,KAAA,QACAgD,IAAAA,GACA,OACA7C,UAAA,CACAC,SAAA,GACAQ,SAAA,IAEAqC,eAAA,GAEA,EACAC,QAAA,CACArC,KAAAA,GAEA,KAAAsC,OACAC,KAAA,qBACAhD,SAAA,KAAAD,UAAAC,SACAQ,SAAA,KAAAT,UAAAS,WAEAyC,MAAAC,IACA,SAAAA,EAAAN,KAAArB,KAAA,CAEA,MAAA4B,EAAAD,EAAAN,KAAAA,KAEA,GADAQ,QAAAC,IAAAF,GACAA,EAAA,CACAG,aAAAC,QAAA,QAAAJ,GACA,MAAAnD,EAAA+B,EAAAoB,GAAAnD,SACAwD,EAAAzB,EAAAoB,GAAAK,OACAC,EAAA1B,EAAAoB,GAAAM,QACAC,EAAA3B,EAAAoB,GAAAO,GACAJ,aAAAC,QAAA,WAAAvD,GACAsD,aAAAC,QAAA,SAAAC,GACAF,aAAAC,QAAA,UAAAE,GACAH,aAAAC,QAAA,KAAAG,GACAN,QAAAC,IAAAC,aAAAK,QAAA,aACAP,QAAAC,IAAAC,aAAAK,QAAA,WACAP,QAAAC,IAAAC,aAAAK,QAAA,YACAP,QAAAC,IAAAC,aAAAK,QAAA,OACA,KAAAC,QAAAxC,QAAA,CAAAT,KAAA,iBACA,MACAkD,MAAA,WAGA,IAEA,ICjGiQ,I,UCQ7PC,GAAY,OACd,EACA3E,EACAyB,GACA,EACA,KACA,WACA,MAIF,EAAekD,EAAiB,O","sources":["webpack://oldman_web/./src/views/oldman/LoginView.vue","webpack://oldman_web/./node_modules/jwt-decode/build/esm/index.js","webpack://oldman_web/src/views/oldman/LoginView.vue","webpack://oldman_web/./src/views/oldman/LoginView.vue?57ec","webpack://oldman_web/./src/views/oldman/LoginView.vue?889c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"center\"},[_vm._m(0),_vm._m(1),_c('form',{attrs:{\"action\":\"\"}},[_c('div',{staticClass:\"userName\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.loginForm.username),expression:\"loginForm.username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名\"},domProps:{\"value\":(_vm.loginForm.username)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.loginForm, \"username\", $event.target.value)}}})]),_c('div',{staticClass:\"passWd\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.loginForm.password),expression:\"loginForm.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},domProps:{\"value\":(_vm.loginForm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.loginForm, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"login_bottom\"},[_c('input',{staticClass:\"login-button\",attrs:{\"type\":\"button\",\"value\":\"登录\"},on:{\"click\":_vm.login}})])]),_c('div',{staticClass:\"registerView\"},[_vm._v(\" 还没注册？\"),_c('router-link',{attrs:{\"to\":{ path: '/oldman/Register' }}},[_vm._v(\"立即注册\")])],1)]),_vm._m(2),_vm._m(3)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/logo.png\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('p',[_vm._v(\"老年健康服务平台\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"square\"},[_c('ul',[_c('li'),_c('li'),_c('li'),_c('li'),_c('li')])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"circle\"},[_c('ul',[_c('li'),_c('li'),_c('li'),_c('li'),_c('li')])])\n}]\n\nexport { render, staticRenderFns }","export class InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nexport function jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n","<template>\r\n    <div class=\"body\">\r\n        <div class=\"center\">\r\n            <div class=\"logo\">\r\n                <img src=\"@/assets/images/logo.png\" alt=\"\">\r\n            </div>\r\n            <div class=\"login\">\r\n                <p>老年健康服务平台</p>\r\n            </div>\r\n            <form action=\"\">\r\n                <!-- 用户名输入框 -->\r\n                <div class=\"userName\">\r\n                    <input type=\"text\" v-model=\"loginForm.username\" placeholder=\"请输入用户名\">\r\n                </div>\r\n                <!-- 密码输入框 -->\r\n                <div class=\"passWd\">\r\n                    <input type=\"password\" v-model=\"loginForm.password\" placeholder=\"请输入密码\">\r\n                </div>\r\n                <!-- 登录按钮 -->\r\n                <div class=\"login_bottom\">\r\n                    <input type=\"button\" @click=\"login\" class=\"login-button\" value=\"登录\">\r\n                </div>\r\n            </form>\r\n            <!-- 写一个跳转注册的文字，使用超链接来接受 -->\r\n            <div class=\"registerView\">\r\n                还没注册？<router-link :to=\"{ path: '/oldman/Register' }\">立即注册</router-link>\r\n            </div>\r\n        </div>\r\n        <div class=\"square\">\r\n            <ul>\r\n                <li></li>\r\n                <li></li>\r\n                <li></li>\r\n                <li></li>\r\n                <li></li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"circle\">\r\n            <ul>\r\n                <li></li>\r\n                <li></li>\r\n                <li></li>\r\n                <li></li>\r\n                <li></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nimport { jwtDecode } from 'jwt-decode';\r\nexport default {\r\n    name: 'Login',\r\n    data() {\r\n        return {\r\n            loginForm: {\r\n                username: '',\r\n                password: ''\r\n            },\r\n            responseResult: []\r\n        }\r\n    },\r\n    methods: {\r\n        login() {\r\n            // const tokenStore = useTokenStore();\r\n            this.$axios\r\n                .post('/api/oldman/login', {\r\n                    username: this.loginForm.username,\r\n                    password: this.loginForm.password\r\n                })\r\n                .then(successResponse => {\r\n                    if (successResponse.data.code === 200) {\r\n                        // 假设后端在登录成功时返回的响应体直接是JWT\r\n                        const jwt = successResponse.data.data;\r\n                        console.log(jwt);\r\n                        if (jwt) {\r\n                            localStorage.setItem('token', jwt);\r\n                            const username = jwtDecode(jwt).username;\r\n                            const gender = jwtDecode(jwt).gender;\r\n                            const faction = jwtDecode(jwt).faction;\r\n                            const id = jwtDecode(jwt).id;\r\n                            localStorage.setItem('username', username);\r\n                            localStorage.setItem('gender', gender);\r\n                            localStorage.setItem('faction', faction);\r\n                            localStorage.setItem('id', id);\r\n                            console.log(localStorage.getItem('username'));\r\n                            console.log(localStorage.getItem('gender'));\r\n                            console.log(localStorage.getItem('faction'));\r\n                            console.log(localStorage.getItem('id'));\r\n                            this.$router.replace({ path: '/oldman/index' });\r\n                        }else{\r\n                            alert('用户名或密码错误');\r\n                        }\r\n\r\n                    }\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nhtml,\r\nbody {\r\n    height: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n    overflow-x: hidden;\r\n    /* 可选：防止水平滚动条 */\r\n}\r\n\r\n.body {\r\n    height: 100vh;\r\n    /* 视口高度的100% */\r\n    background-position: center;\r\n    /* 背景图片居中显示 */\r\n    position: relative;\r\n    /* 如果需要相对于容器定位其他元素 */\r\n    background-size: cover;\r\n    background-attachment: fixed;\r\n    background-position: center;\r\n    /* background: linear-gradient(to bottom right, rgb(211, 187, 240), rgb(178, 102, 255)); */\r\n    background: linear-gradient(200deg, #e3c5eb, #a9c1ed);\r\n    overflow: hidden;\r\n}\r\n\r\n\r\n/* 中间的登录页面 */\r\n.center {\r\n    width: 450px;\r\n    height: 600px;\r\n    margin:70px auto;\r\n    border-radius: 20px;\r\n    background-color: #ffffff;\r\n    box-shadow: 0 0 8px gray;\r\n    position: relative;\r\n}\r\n\r\n.logo {\r\n    width: 180px;\r\n    height: 180px;\r\n    margin:0 auto;\r\n    padding-top: 20px;\r\n}\r\n.logo img {\r\n    width: 180px;\r\n    height: 180px;\r\n}\r\n\r\n.login {\r\n    font-size: 32px;\r\n    text-align: center;\r\n}\r\n.login p {\r\n    color: rgb(74, 71, 71);\r\n    font-family: 微软雅黑; \r\n    font-weight: bold;\r\n}\r\n\r\n/* 输入框位置 */\r\n.userName ,\r\n.passWd {\r\n    width: 380px;\r\n    height: 55px;\r\n    margin: 0 auto;\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n.userName{\r\n    margin-top: 40px;\r\n    margin-bottom: 20px;\r\n}\r\n.passWd {\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n/* 在输入框加入图标 */\r\n.userName input ,\r\n.passWd input{\r\n    width: 300px;\r\n    height: 55px; \r\n    font-size: 18px;\r\n    border-radius: 15px;\r\n    border-color: white; \r\n    padding-left: 10px;\r\n    text-indent: 20px;\r\n    background-position: left;\r\n    background-size: 25px 25px;\r\n    background-repeat: no-repeat;\r\n    border: none;\r\n    outline: none;\r\n}\r\n.userName input{\r\n    background-image: url(\"@/assets/images/user.png\");\r\n}\r\n.passWd input {\r\n    background-image: url(\"@/assets/images/passwd.png\");\r\n}\r\n\r\n.login_bottom {\r\n    margin: 40px auto 0 auto;\r\n    height: 48px;\r\n    width: 380px;\r\n    transition: transform 0.3s;\r\n}\r\n.login_bottom input{\r\n    cursor: pointer;\r\n    width: 380px;\r\n    height: 48px;  \r\n    border-radius: 15px;\r\n    border: none; \r\n    font-size: 23px; \r\n    font-family: 宋体; \r\n    font-weight: bold;\r\n    background: linear-gradient(-200deg, #fac0e7, #aac2ee); \r\n    color: #fff;\r\n}\r\n.login_bottom:hover {\r\n    transform: scale(1.1);\r\n}\r\n\r\n.registerView {\r\n    width: 380px;\r\n    margin: 30px auto;\r\n}\r\n.registerView a{\r\n    color: #595959;\r\n}\r\n\r\n/* 动画 */\r\nul li {\r\n    position: relative;\r\n    border: 1px solid #fff;\r\n    width: 30px;\r\n    height: 30px;\r\n    background-color: #fff;\r\n    list-style-type: none;\r\n    opacity: 0;\r\n}\r\n\r\n.square ul li {\r\n    bottom: 0vh;\r\n    left: 20vw;\r\n    /* 执行动画，动画名 时长 线性的 无限次播放 */\r\n    animation: square 10s linear infinite;\r\n}\r\n\r\n.square li:nth-child(2) {\r\n    bottom: 60vh;\r\n    left: 20vw;\r\n    /* 设置动画延迟 */\r\n    animation-delay: 2s;\r\n}\r\n\r\n.square li:nth-child(3) {\r\n    bottom: 70vh;\r\n    left: 76vw;\r\n    /* 设置动画延迟 */\r\n    animation-delay: 4s;\r\n}\r\n\r\n.square li:nth-child(4) {\r\n    bottom: 10vh;\r\n    left: 75vw;\r\n    /* 设置动画延迟 */\r\n    animation-delay: 6s;\r\n}\r\n\r\n.square li:nth-child(5) {\r\n    bottom: 50vh;\r\n    left: 70vw;\r\n    /* 设置动画延迟 */\r\n    animation-delay: 8s;\r\n}\r\n\r\n.circle li {\r\n    bottom: 0;\r\n    left: 15vw;\r\n    /* 执行动画 */\r\n    animation: circle 10s linear infinite;\r\n}\r\n\r\n.circle li:nth-child(2) {\r\n    left: 35vw;\r\n    /* 设置动画延迟 */\r\n    animation-delay: 2s;\r\n}\r\n\r\n.circle li:nth-child(3) {\r\n    left: 55vw;\r\n    /* 设置动画延迟 */\r\n    animation-delay: 6s;\r\n}\r\n\r\n.circle li:nth-child(4) {\r\n    left: 75vw;\r\n    /* 设置动画延迟 */\r\n    animation-delay: 4s;\r\n}\r\n\r\n.circle li:nth-child(5) {\r\n    left: 90vw;\r\n    /* 设置动画延迟 */\r\n    animation-delay: 8s;\r\n}\r\n\r\n/* 定义动画 */\r\n@keyframes square {\r\n    0% {\r\n        transform: scale(0) rotateY(0deg);\r\n        opacity: 1;\r\n        bottom: 0;\r\n        border-radius: 0;\r\n    }\r\n\r\n    100% {\r\n        transform: scale(5) rotateY(1000deg);\r\n        opacity: 0;\r\n        bottom: 90;\r\n        border-radius: 50%;\r\n    }\r\n}\r\n\r\n@keyframes circle {\r\n    0% {\r\n        transform: scale(0) rotateY(0deg);\r\n        opacity: 1;\r\n    }\r\n\r\n    100% {\r\n        transform: scale(5) rotateY(1000deg);\r\n        opacity: 0;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LoginView.vue?vue&type=template&id=2899a6d8&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\nimport style0 from \"./LoginView.vue?vue&type=style&index=0&id=2899a6d8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2899a6d8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_m","attrs","directives","name","rawName","value","loginForm","username","expression","domProps","on","$event","target","composing","$set","password","login","_v","path","staticRenderFns","require","InvalidTokenError","Error","b64DecodeUnicode","str","decodeURIComponent","atob","replace","m","p","code","charCodeAt","toString","toUpperCase","length","base64UrlDecode","output","err","jwtDecode","token","options","pos","header","part","split","decoded","e","message","JSON","parse","prototype","data","responseResult","methods","$axios","post","then","successResponse","jwt","console","log","localStorage","setItem","gender","faction","id","getItem","$router","alert","component"],"sourceRoot":""}