"use strict";(self["webpackChunkoldman_web"]=self["webpackChunkoldman_web"]||[]).push([[570],{7570:function(e,t,o){o.r(t),o.d(t,{default:function(){return m}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"body"},[t("div",{staticClass:"center"},[e._m(0),e._m(1),t("form",{attrs:{action:""}},[t("div",{staticClass:"userName"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.username,expression:"loginForm.username"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.loginForm.username},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"username",t.target.value)}}})]),t("div",{staticClass:"passWd"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.loginForm.password},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}})]),t("div",{staticClass:"login_bottom"},[t("input",{staticClass:"login-button",attrs:{type:"button",value:"登录"},on:{click:e.login}})])]),t("div",{staticClass:"registerView"},[e._v(" 还没注册？"),t("router-link",{attrs:{to:{path:"/oldman/Register"}}},[e._v("立即注册")])],1)]),e._m(2),e._m(3)])},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"logo"},[t("img",{attrs:{src:o(425),alt:""}})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("p",[e._v("老年健康服务平台")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"square"},[t("ul",[t("li"),t("li"),t("li"),t("li"),t("li")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"circle"},[t("ul",[t("li"),t("li"),t("li"),t("li"),t("li")])])}];o(4979);class r extends Error{}function n(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let o=t.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o})))}function i(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return n(t)}catch(o){return atob(t)}}function l(e,t){if("string"!==typeof e)throw new r("Invalid token specified: must be a string");t||(t={});const o=!0===t.header?0:1,a=e.split(".")[o];if("string"!==typeof a)throw new r(`Invalid token specified: missing part #${o+1}`);let s;try{s=i(a)}catch(n){throw new r(`Invalid token specified: invalid base64 for part #${o+1} (${n.message})`)}try{return JSON.parse(s)}catch(n){throw new r(`Invalid token specified: invalid json for part #${o+1} (${n.message})`)}}r.prototype.name="InvalidTokenError";var c={name:"Login",data(){return{loginForm:{username:"",password:""},responseResult:[]}},methods:{login(){this.$axios.post("/api/oldman/login",{username:this.loginForm.username,password:this.loginForm.password}).then((e=>{if(200===e.data.code){const t=e.data.data;if(console.log(t),t){localStorage.setItem("token",t);const e=l(t).username,o=l(t).gender,a=l(t).faction,s=l(t).id;localStorage.setItem("username",e),localStorage.setItem("gender",o),localStorage.setItem("faction",a),localStorage.setItem("id",s),console.log(localStorage.getItem("username")),console.log(localStorage.getItem("gender")),console.log(localStorage.getItem("faction")),console.log(localStorage.getItem("id")),this.$router.replace({path:"/oldman/index"})}else alert("用户名或密码错误")}}))}}},d=c,g=o(1656),u=(0,g.A)(d,a,s,!1,null,"2899a6d8",null),m=u.exports},425:function(e,t,o){e.exports=o.p+"img/logo.cf9bd2af.png"}}]);
//# sourceMappingURL=570.f15ae8b6.js.map