"use strict";(self["webpackChunkoldman_web"]=self["webpackChunkoldman_web"]||[]).push([[603],{1603:function(e,t,o){o.r(t),o.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"body"},[t("div",{staticClass:"center"},[e._m(0),e._m(1),t("form",{attrs:{action:""}},[t("div",{staticClass:"userName"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.username,expression:"loginForm.username"}],staticStyle:{height:"45px",width:"370px","border-radius":"15px","border-color":"white","padding-left":"10px","text-indent":"20px"},attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.loginForm.username},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"username",t.target.value)}}})]),t("div",{staticClass:"passWd"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],staticStyle:{height:"45px",width:"370px","border-radius":"15px","border-color":"white","padding-left":"10px","text-indent":"20px"},attrs:{type:"password",placeholder:"请输入用户名"},domProps:{value:e.loginForm.password},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}})]),t("div",{staticClass:"login_bottom"},[t("input",{staticClass:"login-button",staticStyle:{height:"38px",width:"150px","border-radius":"15px",border:"none","padding-left":"10px","font-size":"23px","font-family":"宋体","font-weight":"bold",background:"linear-gradient(-200deg, #fac0e7, #aac2ee)",color:"#fff"},attrs:{type:"button",value:"登录"},on:{click:e.login}})])]),t("div",{staticClass:"registerView"},[t("router-link",{attrs:{to:{path:"/oldman/Register"}}},[e._v("还没注册？")])],1)]),e._m(2),e._m(3)])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"logo"},[t("img",{attrs:{src:o(425),alt:""}})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("p",[e._v("老年健康服务平台")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"square"},[t("ul",[t("li"),t("li"),t("li"),t("li"),t("li")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"circle"},[t("ul",[t("li"),t("li"),t("li"),t("li"),t("li")])])}];o(4979);class n extends Error{}function s(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let o=t.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o})))}function i(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return s(t)}catch(o){return atob(t)}}function l(e,t){if("string"!==typeof e)throw new n("Invalid token specified: must be a string");t||(t={});const o=!0===t.header?0:1,a=e.split(".")[o];if("string"!==typeof a)throw new n(`Invalid token specified: missing part #${o+1}`);let r;try{r=i(a)}catch(s){throw new n(`Invalid token specified: invalid base64 for part #${o+1} (${s.message})`)}try{return JSON.parse(r)}catch(s){throw new n(`Invalid token specified: invalid json for part #${o+1} (${s.message})`)}}n.prototype.name="InvalidTokenError";var c={name:"Login",data(){return{loginForm:{username:"",password:""},responseResult:[]}},methods:{login(){this.$axios.post("/api/oldman/login",{username:this.loginForm.username,password:this.loginForm.password}).then((e=>{if(200===e.data.code){const t=e.data.data;if(console.log(t),t){localStorage.setItem("token",t);const e=l(t).username,o=l(t).gender,a=l(t).faction,r=l(t).id;localStorage.setItem("username",e),localStorage.setItem("gender",o),localStorage.setItem("faction",a),localStorage.setItem("id",r),console.log(localStorage.getItem("username")),console.log(localStorage.getItem("gender")),console.log(localStorage.getItem("faction")),console.log(localStorage.getItem("id")),this.$router.replace({path:"/oldman/index"})}else alert("用户名或密码错误")}}))}}},d=c,g=o(1656),p=(0,g.A)(d,a,r,!1,null,"38d480b2",null),u=p.exports},425:function(e,t,o){e.exports=o.p+"img/logo.cf9bd2af.png"}}]);
//# sourceMappingURL=603.31805e7a.js.map